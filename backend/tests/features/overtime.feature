Feature: 加班工時計算
  作為一個使用者
  我想要系統自動計算加班工時
  以便準確追蹤加班時間

  Background:
    Given 系統時區設定為 "UTC+8"
    And 標準工時設定為 7.5 小時
    And 工作日為週一至週五
    And 週末為週六、週日

  # Scenario 1: 平日加班計算
  Scenario Outline: 平日不同工時的加班計算
    Given 今天是工作日
    When 我記錄總計 <總工時> 小時的工時
    Then 正常工時應為 <正常工時> 小時
    And 加班工時應為 <加班工時> 小時

    Examples:
      | 總工時 | 正常工時 | 加班工時 |
      | 5.0    | 5.0      | 0.0      |
      | 7.5    | 7.5      | 0.0      |
      | 8.0    | 7.5      | 0.5      |
      | 9.5    | 7.5      | 2.0      |
      | 12.0   | 7.5      | 4.5      |

  # Scenario 2: 週末加班計算
  Scenario Outline: 週末工時全部計為加班
    Given 今天是週末
    When 我記錄總計 <總工時> 小時的工時
    Then 正常工時應為 0 小時
    And 加班工時應為 <總工時> 小時

    Examples:
      | 總工時 |
      | 2.0    |
      | 4.5    |
      | 8.0    |

  # Scenario 3: 本週加班總計
  Scenario: 計算本週總加班時數
    Given 本週工時記錄如下
      | 日期       | 星期 | 工時 |
      | 2025-11-10 | 一   | 8.0  |
      | 2025-11-11 | 二   | 9.5  |
      | 2025-11-12 | 三   | 7.5  |
      | 2025-11-13 | 四   | 8.5  |
      | 2025-11-14 | 五   | 7.5  |
      | 2025-11-15 | 六   | 4.0  |
    Then 本週正常工時應為 37.5 小時
    And 本週平日加班應為 3.5 小時
    And 本週週末加班應為 4.0 小時
    And 本週總加班時數應為 7.5 小時
