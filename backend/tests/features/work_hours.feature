Feature: 每日工時記錄與驗證
  作為一個使用者
  我想要記錄每日工時
  以便追蹤我的工作時間並確保符合公司規範

  Background:
    Given 系統時區設定為 "UTC+8"
    And 標準工時設定為 7.5 小時
    And 最大工時設定為 12 小時

  # Scenario 1: 工作日標準工時
  Scenario: 工作日填寫標準 7.5 小時工時
    Given 今天是 "2025-11-12" (星期二，工作日)
    When 我記錄以下工時
      | 專案代碼    | 工時 |
      | 需2025單001 | 4.0  |
      | 需2025單002 | 3.5  |
    Then 當日工時總計應為 7.5 小時
    And 工時狀態應顯示為 "正常"
    And 正常工時應為 7.5 小時
    And 加班工時應為 0 小時

  # Scenario 2: 工作日不足 7.5 小時
  Scenario: 工作日工時不足 7.5 小時
    Given 今天是 "2025-11-13" (星期三，工作日)
    When 我記錄以下工時
      | 專案代碼    | 工時 |
      | 需2025單001 | 3.0  |
      | 需2025單002 | 2.0  |
    Then 當日工時總計應為 5.0 小時
    And 工時狀態應顯示為 "不足"
    And 應該顯示黃色警告
    And 警告訊息應為 "工時不足 7.5 小時"

  # Scenario 3: 工作日加班（7.5-12 小時）
  Scenario: 工作日加班 1.5 小時（總計 9 小時）
    Given 今天是 "2025-11-14" (星期四，工作日)
    When 我記錄以下工時
      | 專案代碼    | 工時 |
      | 需2025單001 | 5.0  |
      | 需2025單002 | 4.0  |
    Then 當日工時總計應為 9.0 小時
    And 工時狀態應顯示為 "正常+加班"
    And 正常工時應為 7.5 小時
    And 加班工時應為 1.5 小時
    And 應該顯示綠色狀態並標示加班時數

  # Scenario 4: 工作日超時（>12 小時）
  Scenario: 工作日工時超過 12 小時
    Given 今天是 "2025-11-15" (星期五，工作日)
    When 我記錄以下工時
      | 專案代碼    | 工時 |
      | 需2025單001 | 8.0  |
      | 需2025單002 | 5.5  |
    Then 當日工時總計應為 13.5 小時
    And 工時狀態應顯示為 "超時"
    And 應該顯示橘色警告
    And 警告訊息應為 "工時超過 12 小時，請檢查是否正確"

  # Scenario 5: 週末加班
  Scenario: 週末工作（全部計為加班）
    Given 今天是 "2025-11-16" (星期六，週末)
    When 我記錄以下工時
      | 專案代碼    | 工時 |
      | 需2025單001 | 6.0  |
    Then 當日工時總計應為 6.0 小時
    And 正常工時應為 0 小時
    And 加班工時應為 6.0 小時
    And 工時狀態應顯示為 "週末加班"
    And 應該顯示淺藍色狀態
