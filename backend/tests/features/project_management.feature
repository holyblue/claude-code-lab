Feature: 專案與需求單管理
  作為使用者
  我想要管理專案和需求單代碼
  以便正確追蹤工時歸屬

  # Scenario 1: 創建專案（必填欄位）
  Scenario: 成功創建專案
    When 我創建專案並填寫以下資訊
      | 專案代碼    | 需求單代碼     | 專案名稱 |
      | 需2025單001 | R202511146001  | AI系統   |
    Then 專案應該成功創建
    And 專案代碼應為 "需2025單001"
    And 需求單代碼應為 "R202511146001"
    And 專案名稱應為 "AI系統"

  # Scenario 2: 專案代碼唯一性
  Scenario: 專案代碼重複應拒絕創建
    Given 已存在專案代碼為 "需2025單001" 的專案
    When 我嘗試創建專案代碼為 "需2025單001" 的新專案
    Then 應該返回錯誤
    And 錯誤訊息應為 "專案代碼已存在"

  # Scenario 3: 需求單代碼格式驗證
  Scenario Outline: 需求單代碼格式驗證
    When 我嘗試創建專案並使用需求單代碼 "<需求單代碼>"
    Then 驗證結果應為 <是否有效>

    Examples:
      | 需求單代碼     | 是否有效 |
      | R202511146001  | 通過     |
      | R202507236423  | 通過     |
      | 202511146001   | 失敗     |
      | R20251114      | 失敗     |
      | A202511146001  | 失敗     |

  # Scenario 4: 專案核定工時轉換
  Scenario: 核定人天自動轉換為小時
    When 我創建專案並設定核定工時為 20 人天
    Then 核定工時（小時）應自動計算為 150.0 小時
