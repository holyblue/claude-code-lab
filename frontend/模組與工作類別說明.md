# 模組與工作類別說明

本文件說明工時記錄系統中「模組」和「工作類別」的定義與使用方式。

---

## 📦 模組（Account Group）

### 定義
模組是**組織內部的成本歸屬單位**，用於區分工時應該計入哪個部門或業務單位的成本。

### 系統預設模組
- **A00 - 中概全權**
- **O18 - 數據智能應用科**

### 用途
- 財務成本分攤
- 部門工時統計
- 內部計費依據
- 跨部門專案的成本追蹤

### 使用情境
- 專案可以設定「預設模組」
- 填寫工時記錄時會自動帶入預設模組
- 如果專案跨部門，可以手動選擇正確的模組

---

## 🏷️ 工作類別（Work Category）

### 定義
工作類別是**工作性質的分類**，用於標示該筆工時的工作內容類型。

### 系統預設工作類別

| 代碼 | 名稱 | 是否扣抵核定工時 | 用途說明 |
|------|------|------------------|----------|
| **A07** | 其它 | ✅ 是 | 一般性開發工作 |
| **A08** | 商模 | ❌ **否** | 商業模式相關工作（特殊類別） |
| **B04** | 其它 | ✅ 是 | 其他工作分類 |
| **I07** | 休假（休假、病假、事假等） | ❌ **否** | 休假類型 |

---

## ⭐ 核定工時扣抵機制（重要）

這是系統的關鍵業務邏輯：

### 扣抵類別（A07、B04）
- ✅ 這些工時會**消耗專案的核定工時額度**
- 例如：專案核定 10 人天（75 小時），填寫 A07 工作 8 小時後，剩餘 67 小時
- **使用時機**：一般開發、測試、部署等直接產出工作

### 不扣抵類別（A08 商模、I07 休假）
- ❌ 這些工時**不會消耗專案的核定工時額度**
- 仍然計入專案總工時，但不影響核定工時使用率
- **使用時機**：
  - **A08 商模**：商業模式討論、客戶提案、需求澄清會議等非直接開發工作
  - **I07 休假**：請假時仍需填寫工時記錄

---

## 💡 實際使用範例

### 範例 1：正常開發工作
```
日期：2025-11-24
專案：需2025單001 - AI系統
模組：O18 數據智能應用科
工作類別：A07 其它  ← 扣抵核定工時
實際工時：8.0 小時
工作說明：
- 開發使用者登入功能
- 實作 JWT 驗證
- 撰寫單元測試
```
**效果**：核定工時使用量 +8 小時

---

### 範例 2：商業模式討論
```
日期：2025-11-24
專案：需2025單001 - AI系統
模組：A00 中概全權
工作類別：A08 商模  ← 不扣抵核定工時
實際工時：2.0 小時
工作說明：
- 客戶需求討論會議
- 商業模式可行性分析
```
**效果**：計入專案總工時，但核定工時使用量不變

---

### 範例 3：請假
```
日期：2025-11-24
專案：需2025單001 - AI系統
模組：O18 數據智能應用科
工作類別：I07 休假  ← 不扣抵核定工時
實際工時：7.5 小時
工作說明：病假
```
**效果**：計入專案總工時，但核定工時使用量不變

---

### 範例 4：混合工作類別
同一天可以有多筆不同類別的工時記錄：

```
2025-11-24：
1. A08 商模 2h（不扣抵）- 客戶會議
2. A07 其它 5.5h（扣抵）- 功能開發

總工時：7.5 小時
核定工時使用：5.5 小時（只計算 A07）
```

---

## 🎯 選擇指南

### 何時選擇哪個模組？
1. **單一部門專案**：選擇該部門的模組
2. **跨部門專案**：
   - 方案 A：使用專案預設模組
   - 方案 B：根據實際工作內容選擇對應部門模組
3. **建議**：在專案設定中指定預設模組，大多數情況下使用預設即可

### 何時選擇哪個工作類別？

| 工作內容 | 推薦類別 | 扣抵？ |
|---------|---------|--------|
| 開發、測試、部署 | A07 或 B04 | ✅ 是 |
| 需求會議、商業討論 | A08 | ❌ 否 |
| 請假、休假 | I07 | ❌ 否 |

---

## 📊 統計與報表

### 專案統計顯示
- **總工時**：所有類別的工時總和
- **核定工時使用量**：僅計算扣抵類別（A07、B04）
- **不扣抵工時**：A08 商模 + I07 休假
- **使用率**：（核定工時使用量 / 核定工時額度）× 100%

### 使用率預警
- 🟢 < 80%：正常
- 🟠 80-100%：接近上限（橘色警告）
- 🔴 ≥ 100%：超支（紅色危險）

---

## ❓ 常見問題

### Q1：為什麼需要區分「扣抵」和「不扣抵」？
**A**：確保專案成本控制的精確性。商業討論和休假雖然花費時間，但不屬於直接產出工作，不應消耗開發預算。

### Q2：如果選錯工作類別怎麼辦？
**A**：可以編輯工時記錄修改工作類別，系統會自動重新計算使用率。

### Q3：可以新增自訂的模組或工作類別嗎？
**A**：可以，在「系統設定」中管理模組和工作類別。

### Q4：專案沒有設定核定工時會怎樣？
**A**：系統仍會記錄所有工時，但不會顯示使用率和預警。

---

## 📝 最佳實踐

1. ✅ **為每個專案設定預設模組**，減少重複選擇
2. ✅ **開發工作統一使用 A07 或 B04**，便於統計
3. ✅ **商業會議使用 A08**，不消耗開發預算
4. ✅ **請假務必填寫 I07**，保持工時記錄完整
5. ✅ **定期檢查使用率**，及時調整專案資源

---

**更新日期**：2025-11-24  
**版本**：v1.0

